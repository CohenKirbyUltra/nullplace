<!DOCTYPE html>
<html>
    <head>
        <title>Pulsating</title>
        <style>
            * {
                font-family: monospace;
            }
            html {
                background-color: #000;
                color: #f00;
            }
            /* body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            } */
            .contain {
                display: flex;
                justify-content: center; /* Centers horizontally */
                align-items: center; /* Centers vertically */
                height: 100vh; /* Full viewport height */
                margin: 0; /* Removes default margin */
            }
            #pulsegate {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;
                text-emphasis-color: #f00;
                text-decoration-color: #f00;
            }
            #submit {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;            
            }
            #submit:disabled {
                background-color: #000;
                color: #500;
                border-color: #500;
                cursor: default;
            }
        </style>
    </head>

    <body>
        <center>
            <div class="contain">
                <input type="text" id="pulsegate" placeholder="Pulsegate"/>
                <button id="submit">Submit</button>
            </div>
        </center>

        <script type="module">
            var elemen = new Image;
            var devtoolsOpen;
            elemen.__defineGetter__("id", function() {
                devtoolsOpen = true; // This only executes when devtools is open.
                alert("Failure");
                    document.removeEventListener("click", play);
                    music.volume = 0;
                    document.body.querySelectorAll("*").forEach(element => {
                    document.body.removeChild(element)
                });
            });
            setInterval(function() {
                devtoolsOpen = false;
                console.log(elemen);
            }, 500);

            import { RNG } from "./src/random.js";

            var music = new Audio();
            music.src = "src/audio/pulsating.mp3";
            music.volume = 0.3;
            music.loop = true;

            document.addEventListener("click", play);

            function play() {
                music.play();
            }

            insp

            var gatevalue;
            var submitButton = document.getElementById("submit");
            var pulsegate = document.getElementById("pulsegate");

            pulsegate.addEventListener("input", () => {
                playKeyClack();
                gatevalue = pulsegate.value;
                submitButton.disabled = (String(gatevalue).length <= 0);
            })

            pulsegate.addEventListener("submit", () => {
                Check(gatevalue);
            })

            submitButton.addEventListener("click", () => {
                Check(gatevalue);
            })

            function Check(input) {
                switch (input) {
                    case "":
                        alert(":(");
                        document.removeEventListener("click", play);
                        music.volume = 0;
                        document.body.querySelectorAll("*").forEach(element => {
                            document.body.removeChild(element)
                        });
                        break;

                    case "Rotting Is Eternal":
                        alert("No longer availible. Expired.")
                        break;
                    
                    case "Fale" || "Dormancy":
                        alert("X");
                        music.play();
                        break;

                    case "Knowing Eye":
                        alert("You want answers.")
                        window.location.reload();
                        break;

                    case "770":
                        alert("?")
                        break;
                    
                    case "Decay":
                        window.location.reload();
                        break;

                    case " ":
                        alert("Hello World");
                        window.location.reload();
                        break;
                
                    default:
                        alert("Failure");
                        document.removeEventListener("click", play);
                        music.volume = 0;
                        document.body.querySelectorAll("*").forEach(element => {
                            document.body.removeChild(element)
                        });
                        break;
                }
            }

            function playKeyClack() {
                let me = new Audio();
                me.src = `../src/sfx/key/k${RNG(1, 6)}.wav`;
                me.volume = 0.6;
                me.play();
            }
        </script>
    </body>
</html>
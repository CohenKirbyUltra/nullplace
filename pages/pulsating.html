<!DOCTYPE html>
<html>
    <head>
        <title>Pulsating</title>
        <style>
            html {
                background-color: #000;
                color: #f00;
            }
            /* body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            } */
            .contain {
                display: flex;
                justify-content: center; /* Centers horizontally */
                align-items: center; /* Centers vertically */
                height: 100vh; /* Full viewport height */
                margin: 0; /* Removes default margin */
            }
            #pulsegate {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;
                text-emphasis-color: #f00;
                text-decoration-color: #f00;
            }
            #submit {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;            
            }
        </style>
    </head>

    <body>
        <center>
            <div class="contain">
                <input type="text" id="pulsegate" placeholder="Pulsegate"/>
                <button id="submit">Submit</button>
            </div>
        </center>

        <script>
            var music = new Audio();
            music.src = "src/audio/pulsating.mp3";
            music.volume = 0.5;
            music.loop = true;

            const clickstart = document.addEventListener("click", () => {
                music.play();
            });

            var gatevalue;
            var submitButton = document.getElementById("submit");
            var pulsegate = document.getElementById("pulsegate");

            pulsegate.addEventListener("input", () => {
                gatevalue = pulsegate.innerText;
                submitButton.disabled = (gatevalue == "" && gatevalue.length <= 0)
            })

            pulsegate.addEventListener("submit", () => {
                Check(gatevalue);
            })

            submitButton.addEventListener("click", () => {
                Check(gatevalue);
            })

            function Check(input) {
                playKeyClack();
                if (input.length > 0) {
        
                } else {
                    return
                }
                switch (input) {
                    case "":
                        alert(":(");
                        clickstart.removeEventListener("click");
                        music.pause();
                        document.body.remove();
                        break;
                
                    default:
                        alert("Failure");
                        clickstart.removeEventListener("click");
                        music.pause();
                        document.body.remove();
                        break;
                }
            }

            function playKeyClack() {
                let me = new Audio();
                me.src = `../src/sfx/key/k${RNG(0, 6)}.wav`;
                me.volume = 0.3;
                me.play();
            }
        </script>
    </body>
</html>
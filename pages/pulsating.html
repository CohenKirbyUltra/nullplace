<!DOCTYPE html>
<html>
    <head>
        <title>Pulsating</title>
        <style>
            html {
                background-color: #000;
                color: #f00;
            }
            /* body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            } */
            .contain {
                display: flex;
                justify-content: center; /* Centers horizontally */
                align-items: center; /* Centers vertically */
                height: 100vh; /* Full viewport height */
                margin: 0; /* Removes default margin */
            }
            #pulsegate {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;
                text-emphasis-color: #f00;
                text-decoration-color: #f00;
            }
            #submit {
                background-color: #000;
                color: #f00;
                border-color: #f00;
                border-radius: 6px;            
            }
        </style>
    </head>

    <body>
        <center>
            <div class="contain">
                <input type="password" id="pulsegate" placeholder="Pulsegate"/>
                <button id="submit">Submit</button>
            </div>
        </center>

        <script>
            var music = new Audio();
            music.src = "src/audio/pulsating.mp3";
            music.volume = 0.5;
            music.loop = true;

            var clickstart = document.addEventListener("click", () => {
                music.play();
            });

            var gatevalue;

            function update() {
                document.getElementById("submit").enabled = (gatevalue != "" && gatevalue.length > 0)
            }
            document.getElementById("pulsegate").addEventListener("input", () => {
                gatevalue = document.getElementById("pulsegate").innerHTML;
                update();
            })

            document.getElementById("pulsegate").addEventListener("submit", () => {
                Check(gatevalue);
            })

            document.getElementById("submit").addEventListener("click", () => {
                Check(gatevalue);
            })

            function Check(input) {
                if (input.length > 0) {
        
                } else {
                    return
                }
                switch (input) {
                    case "":
                        alert(":(");
                        document.removeEventListener("click");
                        music.pause();
                        document.body.remove();
                        break;
                
                    default:
                        alert("Failure");
                        document.removeEventListener("click");
                        music.pause();
                        document.body.remove();
                        break;
                }
            }
        </script>
    </body>
</html>